%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% HEADER
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass[a4paper,12pt]{report}

\usepackage[left=2cm,right=2cm,top=2cm,bottom=2cm]{geometry}
%\usepackage[square,numbers,sort&compress]{natbib}

%% Language %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[greek,french]{babel} %francais, polish, spanish, ...
\usepackage[T1]{fontenc}
\usepackage[UTF8]{inputenc}
\usepackage{upgreek} % Permet d'avoir des lettres grecs non italiques
%\usepackage{lmodern} %Type1-font for non-english texts and characters
%\usepackage{sectsty}% Pour changer la taille des chapitres
\usepackage{enumitem}
\usepackage{stmaryrd } % fancy arrow
\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    urlcolor=theme,
    citecolor=theme
}
\setcounter{tocdepth}{1} %Just show section title in toc
\setcounter{secnumdepth}{3} %add subsubsection numbering in report mode

\usepackage{eurosym}

%% Bibliography Packages %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\bibliographystyle{template/custom-bib/thesis}
%\bibliographystyle{apalike}
%\bibliographystyle{abbrv}
%\bibliographystyle{alpha}
\usepackage{bibentry}
%\usepackage{multibbl}

%% Figure Packages %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{graphicx} %%For loading graphic files
%\usepackage{subfig}
\usepackage{tabularx} % Permet d'utiliser l'environnement tabularx
%\usepackage{calc} % Pour pouvoir donner des formules dans les définitions de longueur
\usepackage{epstopdf} % à combiner avec la commande pdflatex -shell-escape
\usepackage[export]{adjustbox}

%% Table Packages %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{array,multirow,makecell}

%% Math Packages %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage[thinspace,thinqspace,amssymb]{SIunits}

%% Other Packages %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{changepage}   % for the adjustwidth environment

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% New environnement difinitions
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\usepackage[colorinlistoftodos,prependcaption,textsize=footnotesize,textwidth=3.0cm]{todonotes}

%\newcommand{\note}[1]{\todo[color=red!15]{#1}}

\usepackage{xcolor}
\usepackage[framemethod=tikz]{mdframed}
\usepackage{chngcntr}

%% Colors %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\definecolor{brun}{rgb}{0.87,0.72,0.53}
\definecolor{brunfonce}{rgb}{0.8,0.4,0.2}
\definecolor{chamois}{rgb}{1.0,0.90,0.70}
\definecolor{bleu_f}{rgb}{0.1,0.1,0.53}
\definecolor{bleu_c}{rgb}{0.8,0.8,0.95}
\definecolor{red_f}{rgb}{0.53,0.1,0.1}
\definecolor{red_c}{rgb}{0.95,0.8,0.8}
\definecolor{green_f}{rgb}{0.1,0.53,0.1}
\definecolor{green_c}{rgb}{0.8,0.95,0.8}
\definecolor{gray_f}{rgb}{0.5,0.5,0.5}
\definecolor{gray_c}{rgb}{0.95,0.95,0.95}
\definecolor{theme}{RGB}{56,115,179}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% New environnements
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Entete niveau/messsage/prérequis
\newcommand{\niveau}{\colorbox{gray_f}{\textbf{\color{white} Niveau :}} }\newcommand{\prerequis}{\colorbox{gray_f}{\textbf{\color{white} Prérequis :}} }
\newcommand{\objectif}{\colorbox{gray_f}{\textbf{\color{white} Objectif de la leçon :}} }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Header

\mdfdefinestyle{s_head}{%
	linecolor=gray_f!,
	outerlinewidth=3pt,%
	frametitlerule=false,
	topline=false,
	bottomline=false,
	rightline=false,
	backgroundcolor=gray_c,
	innertopmargin=8pt,
	roundcorner=0pt,
	nobreak=true
}
\newmdenv[style=s_head]{header_env}
\newenvironment{header}
{%\stepcounter{exa}%
	\addcontentsline{ldf}{figure}{0}%
	\begin{header_env}}
	{\end{header_env}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Transition

\mdfdefinestyle{s_trans}{%
	linecolor=brunfonce!,
	outerlinewidth=3pt,%
	frametitlerule=false,
	topline=false,
	bottomline=false,
	rightline=false,
	backgroundcolor=chamois,
	innertopmargin=8pt,
	roundcorner=0pt,
	nobreak=true
}
\newmdenv[style=s_trans]{transition2_env}
\newenvironment{transition}
{%\stepcounter{exa}%
	\addcontentsline{ldf}{figure}{0}%
	\begin{transition2_env}}
	{\end{transition2_env}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Experience

\mdfdefinestyle{s_experience}{%
	linecolor=bleu_f!,
	outerlinewidth=3pt,%
	frametitlerule=false,
	topline=false,
	bottomline=false,
	rightline=false,
	backgroundcolor=bleu_c,
	innertopmargin=8pt,
	roundcorner=0pt,
	nobreak=true
}
\newmdenv[style=s_experience]{experience_env}
\newenvironment{experience}
{%\stepcounter{exa}%
	\addcontentsline{ldf}{figure}{0}%
	\begin{experience_env}}
%	\begin{experience_env}[]{\noindent\colorbox[rgb]{0.1 0.1 0.53}{\textbf{\color{white} Expérience : }}\\}}
	{\end{experience_env}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Slide

\mdfdefinestyle{s_slide}{%
	linecolor=green_f!,
	outerlinewidth=3pt,%
	frametitlerule=false,
	topline=false,
	bottomline=false,
	rightline=false,
	backgroundcolor=green_c,
	innertopmargin=8pt,
	roundcorner=0pt,
	nobreak=true
}
\newmdenv[style=s_slide]{slide_env}

\newenvironment{slide}
	{%\stepcounter{exa}%
%		\newenvironment{myenv}{\begin{adjustwidth}{2cm}{}}{\end{adjustwidth}}
		\addcontentsline{ldf}{figure}{0}%
		\begin{slide_env}}
		{\end{slide_env}
	}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Remarques


\mdfdefinestyle{s_remarque}{%
	linecolor=red_f!,
	outerlinewidth=3pt,%
	frametitlerule=false,
	topline=false,
	bottomline=false,
	rightline=false,
	backgroundcolor=red_c,
	innertopmargin=8pt,
	roundcorner=0pt,
	nobreak=true
}
\newmdenv[style=s_remarque]{remarque_env}
\newenvironment{remarque}
{%\stepcounter{exa}%
	\addcontentsline{ldf}{figure}{0}%
	\begin{remarque_env}\small}
	{\end{remarque_env}
	}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Commandes personnelles

\renewcommand{\d}{\mathrm{d}}
\newcommand{\D}{\mathrm{D}}
\newcommand{\sinc}{\mathrm{sinc}}
\newcommand{\grad}{\overrightarrow{\mathrm{grad}}}
\newcommand{\rot}{\overrightarrow{\mathrm{rot}}}
\renewcommand{\div}{\mathrm{div}}

